import{_ as ce}from"./logo_circle-CFpan6rn.js";import{r as m,u as fe,a as G,h as he,i as ge,w as l,f as d,o as ve,e,d as r,j as c,b as a,k as be,D as ke,E as xe,l as Ce,m as ye,n as Ve,G as we,s as Ge,p as Ee,g as De}from"./index-BA2o8hTc.js";import{s as Ue,t as $e,u as Ie,b as qe}from"./super-BqrdXxLP.js";import{_ as Re}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./request-IzQaM4-z.js";const i=V=>(Ee("data-v-0c38cd5a"),V=V(),De(),V),Se=i(()=>a("img",{style:{width:"60px","margin-left":"2rem"},src:ce,alt:"logo"},null,-1)),ze=i(()=>a("div",{class:"flex-grow"},null,-1)),Fe=i(()=>a("br",null,null,-1)),Ne=i(()=>a("span",null,"首页",-1)),Pe=i(()=>a("span",null,"账户管理",-1)),Be=i(()=>a("span",null,"商户管理",-1)),Te=i(()=>a("span",null,"订单管理",-1)),je=i(()=>a("span",null,"通知管理",-1)),Me=i(()=>a("span",null,"支付卡管理",-1)),Oe=i(()=>a("span",null,"促销管理",-1)),Ae=i(()=>a("span",null,"账 号 设 置",-1)),He={class:"form-wrapper"},Je={class:"search-area"},Ke=i(()=>a("h6",{style:{"margin-left":"60vh","margin-top":"7px",color:"red"}},"* 管理员仅拥有部分权限，若需要测试请开通测试商户账号",-1)),Le=i(()=>a("br",null,null,-1)),Qe=i(()=>a("br",null,null,-1)),We={class:"pagination-container"},Xe=i(()=>a("span",null,"此操作不可逆！是否确认删除该员工？",-1)),Ye=i(()=>a("br",null,null,-1)),Ze={class:"dialog-footer"},el=i(()=>a("br",null,null,-1)),ll={class:"dialog-footer"},ol={__name:"emp",setup(V){const B=m("1"),_=fe(),$=m([]),I=m(1),E=m(null),D=m(null),T=m(null),b=m(null),k=m(!1),x=m(!1),q=m(0),C=G({key:""});G({emp_name:"",emp_shop_id__shop_name:"",emp_role:"",emp_condition:"",emp_tel:"",emp_number:""});const s=G({emp_name:"",emp_role:"",emp_condition:"",emp_tel:"",emp_number:""}),j=G({emp_name:[{required:!0,message:"员工姓名不能为空",trigger:"blur"}],emp_role:[{required:!0,message:"员工角色不能为空",trigger:"blur"}],emp_condition:[{required:!0,message:"员工状态不能为空",trigger:"blur"}],emp_tel:[{required:!0,message:"员工联系电话不能为空",trigger:"blur"}],emp_number:[{required:!0,message:"员工号不能为空",trigger:"blur"}]}),y=(u,o)=>{Ue(u,11,o).then(function(t){$.value=t.data.map(w=>w),q.value=t.total}).catch(function(t){console.log(t)})};he(()=>{y("",1)});const M=u=>{y(u,1)};function O(u){D.value=u,Object.keys(s).forEach(o=>{s[o]=u[o]??""}),x.value=!0}function A(){!b.value||!D.value||b.value.validate(u=>{if(u){let o={emp_name:s.emp_name,emp_tel:s.emp_tel,emp_number:s.emp_number,emp_condition:s.emp_condition,emp_role:s.emp_role};const t=D.value.id;H(t,o),x.value=!1}else console.log("编辑表单验证失败")})}const H=(u,o)=>{$e(u,o).then(function(t){alert("修改成功"),console.log(t),y("",1)}).catch(function(t){console.log(t)}),z()};function J(u){E.value=u,k.value=!0}function K(){E.value&&L(E.value),k.value=!1}const L=u=>{Ie(u.id).then(function(o){alert(o),y("",1)}).catch(function(o){console.log(o)})},Q=u=>{y(C.key,u)},R=()=>{_.push("/super/index")},W=()=>{_.push("/super/order")},X=()=>{_.push("/super/noti")},Y=()=>{_.push("/super/paycard")},Z=()=>{_.push("/super/me")},ee=()=>{_.push("/super/payment")},le=()=>{_.push("/super/dish")},oe=()=>{_.push("/super/emp")},te=()=>{_.push("/super/shop")},ne=()=>{_.push("/super/promo")},ae=()=>{_.push("/super/customer")},S=()=>{localStorage.removeItem("userInfo"),qe().then(function(u){console.log(u)}).catch(function(u){console.log(u)})},z=()=>{b.value&&b.value.resetFields()};return(u,o)=>{const t=d("el-menu-item"),w=d("el-menu"),ue=d("el-header"),p=d("el-icon"),U=d("el-sub-menu"),se=d("el-col"),de=d("el-row"),v=d("el-input"),f=d("el-form-item"),h=d("el-button"),F=d("el-form"),ie=d("el-card"),g=d("el-table-column"),re=d("el-table"),_e=d("el-pagination"),N=d("el-dialog"),me=d("el-main"),P=d("el-container");return ve(),ge(P,{style:{height:"100vh"}},{default:l(()=>[e(ue,{class:"header-menu"},{default:l(()=>[e(w,{"default-active":B.value,class:"el-menu-demo",mode:"horizontal",ellipsis:!1},{default:l(()=>[Se,e(t,{onClick:R,index:"1",style:{"font-weight":"bold","margin-left":"3rem"}},{default:l(()=>[r(" 内 部 餐 饮 系 统 - 管 理 员 端 ")]),_:1}),ze,e(t,{index:"2",onClick:S},{default:l(()=>[r("退 出 登 录")]),_:1})]),_:1},8,["default-active"])]),_:1}),e(P,null,{default:l(()=>[e(de,{class:"tac"},{default:l(()=>[e(se,{span:24},{default:l(()=>[Fe,e(w,{"default-active":"3",class:"el-menu-vertical-demo"},{default:l(()=>[e(t,{index:"1",onClick:R},{default:l(()=>[e(p,null,{default:l(()=>[e(c(be))]),_:1}),Ne]),_:1}),e(t,{index:"2",onClick:ae},{default:l(()=>[e(p,null,{default:l(()=>[e(c(ke))]),_:1}),Pe]),_:1}),e(U,{index:"3"},{title:l(()=>[e(p,null,{default:l(()=>[e(c(xe))]),_:1}),Be]),default:l(()=>[e(t,{index:"3-1",onClick:te},{default:l(()=>[r("商户")]),_:1}),e(t,{index:"3-2",onClick:oe},{default:l(()=>[r("雇员")]),_:1}),e(t,{index:"3-3",onClick:le},{default:l(()=>[r("菜品")]),_:1})]),_:1}),e(U,{index:"4"},{title:l(()=>[e(p,null,{default:l(()=>[e(c(Ce))]),_:1}),Te]),default:l(()=>[e(t,{index:"4-1",onClick:W},{default:l(()=>[r("订单")]),_:1}),e(t,{index:"4-2",onClick:ee},{default:l(()=>[r("支付记录")]),_:1})]),_:1}),e(t,{index:"5",onClick:X},{default:l(()=>[e(p,null,{default:l(()=>[e(c(ye))]),_:1}),je]),_:1}),e(t,{index:"6",onClick:Y},{default:l(()=>[e(p,null,{default:l(()=>[e(c(Ve))]),_:1}),Me]),_:1}),e(t,{index:"7",onClick:ne},{default:l(()=>[e(p,null,{default:l(()=>[e(c(we))]),_:1}),Oe]),_:1}),e(U,{index:"8"},{title:l(()=>[e(p,null,{default:l(()=>[e(c(Ge))]),_:1}),Ae]),default:l(()=>[e(t,{index:"8-1",onClick:Z},{default:l(()=>[r("个 人 中 心")]),_:1}),e(t,{index:"8-2",onClick:S},{default:l(()=>[r("退 出 账 号")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(me,{style:{"background-image":"none",display:"block",height:"auto"}},{default:l(()=>[e(ie,{class:"box-card",shadow:"hover"},{default:l(()=>[a("div",He,[a("div",Je,[e(F,{inline:!0,model:C,"label-width":"20%",class:"demo-form-inline search-form","status-icon":""},{default:l(()=>[e(f,{label:"员工姓名",prop:"key","label-width":"100px"},{default:l(()=>[e(v,{modelValue:C.key,"onUpdate:modelValue":o[0]||(o[0]=n=>C.key=n),style:{width:"350px"},clearable:""},null,8,["modelValue"])]),_:1}),e(f,null,{default:l(()=>[e(h,{onClick:o[1]||(o[1]=n=>M(C.key)),type:"primary"},{default:l(()=>[r("搜索")]),_:1})]),_:1})]),_:1},8,["model"])])]),Ke]),_:1}),Le,e(re,{data:$.value,style:{width:"100%"}},{default:l(()=>[e(g,{prop:"emp_name",label:"员工姓名",width:"150"}),e(g,{prop:"emp_shop_id__shop_name",label:"所属店铺名"}),e(g,{prop:"emp_role",label:"角色"}),e(g,{prop:"emp_condition",label:"员工状态"}),e(g,{prop:"emp_tel",label:"员工联系电话"}),e(g,{prop:"emp_number",label:"员工号"}),e(g,{label:"操作"},{default:l(n=>[e(h,{type:"primary",size:"small",onClick:pe=>O(n.row)},{default:l(()=>[r("编辑")]),_:2},1032,["onClick"]),e(h,{size:"small",type:"danger",onClick:pe=>J(n.row)},{default:l(()=>[r("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),Qe,a("div",We,[e(_e,{"current-page":I.value,"onUpdate:currentPage":o[2]||(o[2]=n=>I.value=n),"page-size":11,layout:"prev, pager, next",total:q.value,onCurrentChange:Q},null,8,["current-page","total"])]),e(N,{style:{"margin-right":"58vh","margin-top":"40vh"},modelValue:k.value,"onUpdate:modelValue":o[4]||(o[4]=n=>k.value=n),title:"操作确认",width:"500"},{footer:l(()=>[a("div",Ze,[e(h,{onClick:o[3]||(o[3]=n=>k.value=!1)},{default:l(()=>[r("取消")]),_:1}),e(h,{type:"danger",onClick:K},{default:l(()=>[r(" 确认 ")]),_:1})])]),default:l(()=>[Xe,Ye]),_:1},8,["modelValue"]),e(N,{style:{"margin-right":"58vh","margin-top":"25vh"},modelValue:x.value,"onUpdate:modelValue":o[11]||(o[11]=n=>x.value=n),title:"修改员工信息",width:"500"},{footer:l(()=>[a("div",ll,[e(h,{onClick:o[10]||(o[10]=n=>{x.value=!1,z(T.value)})},{default:l(()=>[r("取消")]),_:1}),e(h,{type:"primary",onClick:A},{default:l(()=>[r(" 确认修改 ")]),_:1})])]),default:l(()=>[el,e(F,{ref_key:"ruleFormRef3",ref:b,model:s,rules:j,"label-width":"20%",class:"demo-form","status-icon":""},{default:l(()=>[e(f,{label:"员工姓名",prop:"emp_name"},{default:l(()=>[e(v,{modelValue:s.emp_name,"onUpdate:modelValue":o[5]||(o[5]=n=>s.emp_name=n)},null,8,["modelValue"])]),_:1}),e(f,{label:"员工号",prop:"emp_number"},{default:l(()=>[e(v,{modelValue:s.emp_number,"onUpdate:modelValue":o[6]||(o[6]=n=>s.emp_number=n)},null,8,["modelValue"])]),_:1}),e(f,{label:"联系电话",prop:"emp_tel"},{default:l(()=>[e(v,{modelValue:s.emp_tel,"onUpdate:modelValue":o[7]||(o[7]=n=>s.emp_tel=n)},null,8,["modelValue"])]),_:1}),e(f,{label:"员工角色",prop:"emp_role"},{default:l(()=>[e(v,{modelValue:s.emp_role,"onUpdate:modelValue":o[8]||(o[8]=n=>s.emp_role=n)},null,8,["modelValue"])]),_:1}),e(f,{label:"员工状态",prop:"emp_condition"},{default:l(()=>[e(v,{modelValue:s.emp_condition,"onUpdate:modelValue":o[9]||(o[9]=n=>s.emp_condition=n)},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})}}},dl=Re(ol,[["__scopeId","data-v-0c38cd5a"]]);export{dl as default};
