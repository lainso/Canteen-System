import{_ as E}from"./logo_circle-CFpan6rn.js";import{h as L,b as O}from"./customer-DbI0IaiP.js";import{r as h,u as R,h as Y,i as U,w as t,f as a,o as x,e,d as u,j as f,c as J,v as K,F as Q,b as o,k as W,l as X,m as Z,n as ee,s as te,t as v,p as ne,g as oe}from"./index-BA2o8hTc.js";import{u as le}from"./userStore-DWnd3T38.js";import{_ as ae}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./request-IzQaM4-z.js";const c=m=>(ne("data-v-f0551260"),m=m(),oe(),m),se=c(()=>o("img",{style:{width:"60px","margin-left":"2rem"},src:E,alt:"logo"},null,-1)),ce=c(()=>o("div",{class:"flex-grow"},null,-1)),ie=c(()=>o("br",null,null,-1)),de=c(()=>o("span",null,"首 页",-1)),ue=c(()=>o("span",null,"订 单",-1)),_e=c(()=>o("span",null,"通 知",-1)),re=c(()=>o("span",null,"支 付 卡",-1)),pe=c(()=>o("span",null,"账 号 设 置",-1)),fe={style:{display:"flex","justify-content":"space-between","align-items":"center"}},me={style:{"flex-grow":"1"}},he=c(()=>o("br",null,null,-1)),ge=c(()=>o("br",null,null,-1)),xe={style:{display:"flex","justify-content":"center"}},ve={__name:"noti",setup(m){const $=h("1"),i=R(),g=h(1),y=h([]),C=h(0),k=le().getUsername,w=(l,s)=>{L(l,4,s).then(function(n){const _=n.data.map(d=>({noti_title:d.fields.noti_title||"",noti_content:d.fields.noti_content||"",noti_sendtime:d.fields.noti_sendtime||""}));y.value=_,C.value=n.total}).catch(function(n){console.log(n)})};Y(()=>{w(k,g.value)});const B=l=>{if(l===null||l==="")return"";{const s=new Date(l);s.setHours(s.getHours());const n=s.getFullYear(),_=(s.getMonth()+1).toString().padStart(2,"0"),d=s.getDate().toString().padStart(2,"0");return`${n}-${_}-${d}`}},j=l=>{w(k,l),console.log(l)},b=()=>{O().then(function(l){console.log(l)}).catch(function(l){console.log(l)})},S=()=>{i.push("/index")},F=()=>{i.push("/order")},M=()=>{i.push("/noti")},V=()=>{i.push("/cardApply")},z=()=>{i.push("/cardUpdate")},A=()=>{i.push("/cardDel")},H=()=>{i.push("/me")};return(l,s)=>{const n=a("el-menu-item"),_=a("el-menu"),d=a("el-header"),p=a("el-icon"),G=a("el-sub-menu"),I=a("el-col"),N=a("el-row"),P=a("el-card"),T=a("el-pagination"),q=a("el-main"),D=a("el-container");return x(),U(D,{style:{height:"100vh"}},{default:t(()=>[e(d,{class:"header-menu"},{default:t(()=>[e(_,{"default-active":$.value,class:"el-menu-demo",mode:"horizontal",ellipsis:!1},{default:t(()=>[se,e(n,{onClick:S,index:"1",style:{"font-weight":"bold","margin-left":"3rem"}},{default:t(()=>[u(" 内 部 餐 饮 系 统 ")]),_:1}),ce,e(n,{index:"2",onClick:b},{default:t(()=>[u("退 出 登 录")]),_:1})]),_:1},8,["default-active"])]),_:1}),e(D,null,{default:t(()=>[e(N,{class:"tac"},{default:t(()=>[e(I,{span:24},{default:t(()=>[ie,e(_,{"default-active":"3",class:"el-menu-vertical-demo"},{default:t(()=>[e(n,{index:"1",onClick:S},{default:t(()=>[e(p,null,{default:t(()=>[e(f(W))]),_:1}),de]),_:1}),e(n,{index:"2",onClick:F},{default:t(()=>[e(p,null,{default:t(()=>[e(f(X))]),_:1}),ue]),_:1}),e(n,{index:"3",onClick:M},{default:t(()=>[e(p,null,{default:t(()=>[e(f(Z))]),_:1}),_e]),_:1}),e(G,{index:"4"},{title:t(()=>[e(p,null,{default:t(()=>[e(f(ee))]),_:1}),re]),default:t(()=>[e(n,{index:"4-1",onClick:V},{default:t(()=>[u("申 请")]),_:1}),e(n,{index:"4-2",onClick:z},{default:t(()=>[u("储 值")]),_:1}),e(n,{index:"4-3",onClick:A},{default:t(()=>[u("注 销")]),_:1})]),_:1}),e(G,{index:"5"},{title:t(()=>[e(p,null,{default:t(()=>[e(f(te))]),_:1}),pe]),default:t(()=>[e(n,{index:"5-1",onClick:H},{default:t(()=>[u("个 人 中 心")]),_:1}),e(n,{index:"5-2",onClick:b},{default:t(()=>[u("退 出 账 号")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(q,null,{default:t(()=>[e(N,{gutter:20},{default:t(()=>[(x(!0),J(Q,null,K(y.value,r=>(x(),U(I,{span:24,key:r.title,style:{"margin-bottom":"20px"}},{default:t(()=>[e(P,{"body-style":{padding:"20px"},class:"data-card",style:{width:"100%","max-width":"600px",margin:"auto"}},{default:t(()=>[o("div",fe,[o("div",me,[o("h4",null,v(r.noti_title),1),he,o("div",null,v(r.noti_content),1),ge,o("div",null,"发送时间："+v(B(r.noti_sendtime)),1)])])]),_:2},1024)]),_:2},1024))),128))]),_:1}),o("div",xe,[e(T,{"current-page":g.value,"onUpdate:currentPage":s[0]||(s[0]=r=>g.value=r),"page-size":4,layout:"prev, pager, next",total:C.value,onCurrentChange:j},null,8,["current-page","total"])])]),_:1})]),_:1})]),_:1})}}},Ge=ae(ve,[["__scopeId","data-v-f0551260"]]);export{Ge as default};
