import{_ as y}from"./logo-BME6R_gW.js";import{$ as k,a as S}from"./super-BqrdXxLP.js";import{u as V}from"./userStore-C7y7cZWo.js";import{_ as x}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as C,a as g,c as U,b as i,e as s,w as a,d as n,q as $,f as d,o as F,p as I,g as N}from"./index-Cni_yBT1.js";import"./request-IzQaM4-z.js";const q="/assets/shop_login_back-kJw6mbCX.jpg",B=u=>(I("data-v-bdfe210f"),u=u(),N(),u),R={class:"login"},L=B(()=>i("img",{class:"left",src:q,alt:"left poster"},null,-1)),j={class:"box"},A=$('<div class="logo-container" data-v-bdfe210f><img class="logo" src="'+y+'" alt="left poster" data-v-bdfe210f><span class="logo-text" data-v-bdfe210f>内部餐饮系统</span></div><div style="display:flex;text-align:center;" data-v-bdfe210f><p class="title" data-v-bdfe210f>管理员登录</p></div>',2),G={class:"info"},J={class:"contact"},P={__name:"login",setup(u){const p=V(),m=C(),e=g({username:"",password:""}),b=g({username:[{required:!0,message:"登录账号不能为空",trigger:"blur"}],password:[{required:!0,message:"登录密码不能为空",trigger:"blur"}]}),v=l=>{l&&l.validate(t=>{if(t)e.username==="SuperAdminForSystem"?k(e.username,e.password).then(function(o){p.setUsername(e.username),console.log(o)}).catch(function(o){console.log(o)}):S(e.username,e.password).then(function(o){p.setUsername(e.username),console.log(o)}).catch(function(o){console.log(o)});else return!1})},h=l=>{l&&l.resetFields()};return(l,t)=>{const o=d("el-input"),c=d("el-form-item"),f=d("el-link"),_=d("el-button"),w=d("el-form");return F(),U("div",R,[L,i("div",j,[A,s(w,{ref_key:"ruleFormRef",ref:m,model:e,rules:b,"label-width":"20%",class:"demo-form","status-icon":""},{default:a(()=>[s(c,{label:"登录账号",prop:"username"},{default:a(()=>[s(o,{modelValue:e.username,"onUpdate:modelValue":t[0]||(t[0]=r=>e.username=r)},null,8,["modelValue"])]),_:1}),s(c,{label:"登录密码",prop:"password",style:{"margin-bottom":"2%"}},{default:a(()=>[s(o,{type:"password",modelValue:e.password,"onUpdate:modelValue":t[1]||(t[1]=r=>e.password=r)},null,8,["modelValue"])]),_:1}),s(c,{style:{"margin-bottom":"1%"}},{default:a(()=>[s(f,{style:{"margin-left":"82%"},underline:!1,type:"danger",href:"#/super/resetPass"},{default:a(()=>[n("忘记密码")]),_:1})]),_:1}),s(c,null,{default:a(()=>[s(_,{type:"success",onClick:t[2]||(t[2]=r=>v(m.value))},{default:a(()=>[n(" 登录 ")]),_:1}),s(_,{onClick:t[3]||(t[3]=r=>h(m.value))},{default:a(()=>[n("重置")]),_:1})]),_:1})]),_:1},8,["model","rules"]),i("div",G,[i("p",null,[n("Copyright © 2024 lains. "),i("span",J,[n("Contact me ："),s(f,{underline:!1,type:"success",href:"https://github.com/lainso",target:"_blank"},{default:a(()=>[n("Github")]),_:1})])])])])])}}},M=x(P,[["__scopeId","data-v-bdfe210f"]]);export{M as default};
